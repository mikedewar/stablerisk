# StableRisk Environment Configuration
# Copy this file to .env and fill in the required values

# =============================================================================
# REQUIRED SECRETS - MUST BE CHANGED FOR PRODUCTION
# =============================================================================

# TronGrid API Key (get from https://www.trongrid.io/)
TRONGRID_API_KEY=your_trongrid_api_key_here

# Database Password
POSTGRES_PASSWORD=change_me_strong_password_here

# JWT Secret (32+ characters, base64 encoded recommended)
JWT_SECRET=change_me_jwt_secret_min_32_chars_base64

# Encryption Key (32 bytes, base64 encoded)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=change_me_encryption_key_32_bytes_base64

# HMAC Key (32 bytes, base64 encoded)
# Generate with: openssl rand -base64 32
HMAC_KEY=change_me_hmac_key_32_bytes_base64

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Logging Level (debug, info, warn, error, fatal)
LOG_LEVEL=info

# Server Configuration
API_PORT=8080
METRICS_PORT=9090

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_USER=stablerisk
DB_NAME=stablerisk
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5

# Raphtory Configuration
RAPHTORY_URL=http://raphtory:8000
RAPHTORY_TIMEOUT=30s

# Detection Configuration
DETECTION_INTERVAL=60s
ZSCORE_THRESHOLD=3.0
IQR_MULTIPLIER=1.5
WINDOW_DURATION=24h
MIN_DATA_POINTS=30
PATTERN_DETECTION_ENABLED=true

# Security Configuration
JWT_EXPIRY=1h
REFRESH_TOKEN_EXPIRY=168h
TLS_ENABLED=false
TLS_CERT_FILE=/etc/nginx/certs/cert.pem
TLS_KEY_FILE=/etc/nginx/certs/key.pem
PASSWORD_MIN_LENGTH=12
PASSWORD_HASH_COST=12

# Monitoring Configuration
MONITORING_ENABLED=true

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================

# PostgreSQL (for Docker Compose)
POSTGRES_USER=stablerisk
POSTGRES_DB=stablerisk

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# 1. Never commit the .env file to version control
# 2. Generate strong random keys for production:
#    - openssl rand -base64 32
# 3. Use environment-specific .env files:
#    - .env.development
#    - .env.staging
#    - .env.production
# 4. In production, consider using:
#    - HashiCorp Vault
#    - AWS Secrets Manager
#    - Kubernetes Secrets
# 5. Rotate secrets regularly (every 90 days recommended)
